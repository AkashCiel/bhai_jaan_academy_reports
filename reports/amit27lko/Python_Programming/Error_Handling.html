
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Report: Error Handling</title>
      <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
      <!-- MathJax for mathematical formula rendering -->
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script>
        window.MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true,
            processEnvironments: true,
            packages: ['base', 'ams', 'noerrors', 'noundefined']
          },
          options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            ignoreHtmlClass: 'tex2jax_ignore',
            processHtmlClass: 'tex2jax_process'
          },
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                console.log('MathJax processing completed');
              });
            }
          }
        };
      </script>
      <style>
        /* Background image from landing page */
        .report-bg {
          background-image: url('https://akashciel.github.io/bhai_jaan_academy/Bhai%20Jaan%20Academy.png');
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
          background-attachment: fixed;
          min-height: 100vh;
        }
        
        /* Foreground content with 60% opacity */
        .foreground-content {
          background-color: rgba(255, 255, 255, 0.6) !important;
          backdrop-filter: blur(10px);
          border-radius: 12px;
          border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .report-content h2 { 
          margin-top: 2rem; 
          margin-bottom: 1rem; 
          font-size: 1.5rem; 
          font-weight: bold; 
          color: #1f2937;
          border-bottom: 2px solid rgba(229, 231, 235, 0.8);
          padding-bottom: 0.5rem;
        }
        .report-content h3 { 
          margin-top: 1.5rem; 
          margin-bottom: 0.75rem; 
          font-size: 1.25rem; 
          font-weight: bold; 
          color: #374151;
        }
        .report-content p { 
          margin-bottom: 1rem; 
          line-height: 1.6; 
          color: #1f2937;
          font-weight: 500;
        }
        .report-content ul { 
          margin-bottom: 1rem; 
          padding-left: 1.5rem; 
        }
        .report-content li { 
          margin-bottom: 0.5rem; 
          color: #1f2937;
          font-weight: 500;
        }
        .report-content hr { 
          margin: 2rem 0; 
          border: none; 
          border-top: 1px solid rgba(229, 231, 235, 0.8); 
        }
        .report-content strong { 
          color: #111827; 
          font-weight: 700; 
        }
        .report-content .link-external { 
          background: linear-gradient(135deg, #dc2626, #b91c1c);
          color: white;
          border: 2px solid #dc2626;
          border-radius: 8px;
          padding: 0.75rem 1rem;
          text-decoration: none;
          font-weight: 700;
          transition: all 0.3s ease;
          display: inline-block;
          margin: 0.75rem 0.25rem;
          box-shadow: 0 4px 6px rgba(220, 38, 38, 0.3);
          position: relative;
          overflow: hidden;
        }
        .report-content .link-external:hover { 
          transform: translateY(-3px);
          box-shadow: 0 6px 12px rgba(220, 38, 38, 0.4);
          background: linear-gradient(135deg, #b91c1c, #991b1b);
        }
        .report-content .link-external:before {
          content: "ðŸ”— ";
          margin-right: 0.5rem;
          font-size: 1.2em;
        }
        
        /* Mobile responsiveness */
        @media (max-width: 640px) {
          .report-bg {
            background-image: url('https://akashciel.github.io/bhai_jaan_academy/Bhai%20Jaan%20Academy%20Mobile.png');
            background-attachment: scroll;
          }
          
          .foreground-content {
            margin: 1rem;
            padding: 1rem;
            border-radius: 8px;
          }
          
          .report-content h2 {
            font-size: 1.25rem;
            margin-top: 1.5rem;
          }
          .report-content h3 {
            font-size: 1.1rem;
            margin-top: 1rem;
          }
          .report-content p {
            font-size: 0.95rem;
            line-height: 1.5;
          }
          .report-content ul {
            padding-left: 1rem;
          }
          .report-content li {
            font-size: 0.95rem;
          }
          .report-content .link-external {
            font-size: 0.9rem;
            word-break: break-word;
            padding: 0.4rem 0.6rem;
          }
          
          .mobile-header {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
          }
          
          .mobile-subtitle {
            font-size: 0.9rem;
            margin-bottom: 1rem;
          }
        }
        
        /* Desktop styles */
        @media (min-width: 641px) {
          .foreground-content {
            margin: 2rem auto;
            padding: 2rem;
            max-width: 800px;
          }
        }
      </style>
    </head>
    <body class="report-bg text-gray-900 p-4 sm:p-6">
      <div class="foreground-content">
        <h1 class="text-2xl font-bold mb-4 mobile-header">Error Handling</h1>
        <p class="mb-6 text-gray-700 mobile-subtitle">Prepared for: amit27.lko@gmail.com</p>
        <article class="report-content prose prose-lg tex2jax_process">
          <h1>Error Handling: A Comprehensive Guide</h1>
<h2>Introduction:</h2>
<p><p>Welcome back to your Python programming journey! As you continue to explore and develop your skills, youâ€™ll encounter an essential topic that serves as the backbone of robust software development: <strong>Error Handling</strong>. At its core, error handling is about anticipating and managing potential errors in your code, ensuring that your programs run smoothly and are user-friendly.</p></p>
<p><p>In our earlier modules, you've learned about <strong>basic syntax</strong>, <strong>data structures</strong>, and <strong>string manipulation</strong>, all of which contribute to building functional applications. Once you start reading from and writing to files, as discussed in <strong>File Input/Output</strong>, you may encounter unexpected scenariosâ€”like trying to read a non-existent file or processing malformed dataâ€”that can lead to errors. Error handling allows you to deal with such situations gracefully.</p></p>
<p><p>In this report, we will explore the concept of error handling in depth, covering key definitions, types of errors, handling mechanisms, real-world applications, and best practices. We will also look at current trends and future directions in error handling, ensuring that by the end of this comprehensive guide, you will be well-equipped to implement effective error handling in your programming projects.</p></p>
<hr />
<h2>Key Concepts of Error Handling</h2>
<h3>What is Error Handling?</h3>
<p><p><strong>Error Handling</strong> refers to the process of responding to and managing errors that occur during the execution of a program. It involves the identification of potential error conditions, the implementation of strategies to recover from those conditions, and the provision of feedback to users or systems about the nature of the error.</p></p>
<p><p>Errors in programming can be broadly classified into two categories:</p></p>
<ul>
<ul>
<li>
</ul>
<p><p><strong>Syntax Errors</strong>: Mistakes in the code that prevent it from being compiled or executed. For example, missing colons, parentheses, or incorrect indentation in Python will result in syntax errors.</p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Runtime Errors</strong>: Errors that occur while the program is running. These could be due to invalid user inputs, resource unavailability, or logical errors in the code. For example, trying to divide a number by zero or accessing an index that does not exist in a list.</p></p>
<p></li></p>
</ul>
<h3>Why is Error Handling Important?</h3>
<p><ol></p>
<ul>
<li>
</ul>
<p><p><strong>User Experience</strong>: Proper error handling improves the user experience by providing informative messages rather than crashing the application. When users encounter errors, they should receive clear instructions on how to resolve the issue.</p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Debugging</strong>: Effective error handling aids in debugging by capturing and logging errors, which can help developers identify issues quickly.</p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Data Integrity</strong>: Error handling ensures that data remains consistent and accurate, preventing corruption or loss.</p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Security</strong>: Proper error handling can protect applications from malicious input or actions that could lead to security vulnerabilities.</p></p>
<p></li></p>
<p></ol></p>
<h3>Common Types of Errors</h3>
<p><p>To better understand error handling, it's essential to recognize the common types of errors you may encounter:</p></p>
<h4>1. Syntax Errors</h4>
<ul>
<ul>
<li><strong>Definition</strong>: Errors that occur when the code violates the syntax rules of the programming language.</li>
<li><strong>Example</strong>:
</ul>
<p><code>python</p>
<p>print("Hello, World!"  # Missing closing parenthesis</code></li></p>
</ul>
<h4>2. Runtime Errors</h4>
<ul>
<ul>
<li><strong>Definition</strong>: Errors that occur during the execution of a program.</li>
<li><strong>Example</strong>:
</ul>
<p><code>python</p>
<p>result = 10 / 0  # Division by zero error</code></li></p>
</ul>
<h4>3. Logical Errors</h4>
<ul>
<ul>
<li><strong>Definition</strong>: Errors that occur when the program runs without crashing, but produces incorrect results.</li>
<li><strong>Example</strong>:
</ul>
<p><code>python</p>
<p>total = 0</p>
<p>for i in range(1, 5):</p>
<p>total += i</p>
<p>print(total)  # Incorrectly prints 10 instead of 15</code></li></p>
</ul>
<h3>Error Handling Mechanisms in Python</h3>
<p><p>Python provides several mechanisms to handle errors effectively:</p></p>
<h4>1. <strong>Try and Except Blocks</strong></h4>
<p><p>The primary method for handling errors in Python is through the use of <code>try</code> and <code>except</code> blocks. This allows you to define code that might raise an error and specify how to respond to that error.</p></p>
<h5>Syntax:</h5>
<p><p><code>python</p>
<p>try:</p>
<p># Code that may raise an error</p>
<p>except SomeException:</p>
<p># Code to handle the error</code></p></p>
<h5>Example:</h5>
<p><p><code>python</p>
<p>try:</p>
<p>number = int(input("Enter a number: "))</p>
<p>result = 10 / number</p>
<p>except ZeroDivisionError:</p>
<p>print("Error: Cannot divide by zero.")</p>
<p>except ValueError:</p>
<p>print("Error: Please enter a valid integer.")</code></p></p>
<p><p>In this example, the program attempts to read a number from the user and perform a division. If the user enters <code>0</code>, a <code>ZeroDivisionError</code> is raised, and if they enter a non-integer, a <code>ValueError</code> is raised. Each error is handled separately, allowing the program to continue running.</p></p>
<h4>2. <strong>Finally Block</strong></h4>
<p><p>The <code>finally</code> block is used to execute code regardless of whether an error occurred or not. This is often useful for cleanup actions, such as closing files or releasing resources.</p></p>
<h5>Syntax:</h5>
<p><p><code>python</p>
<p>try:</p>
<p># Code that may raise an error</p>
<p>except SomeException:</p>
<p># Code to handle the error</p>
<p>finally:</p>
<p># Code that will run no matter what</code></p></p>
<h5>Example:</h5>
<p><p><code>python</p>
<p>try:</p>
<p>file = open("data.txt", "r")</p>
<p>content = file.read()</p>
<p>except FileNotFoundError:</p>
<p>print("Error: File not found.")</p>
<p>finally:</p>
<p>file.close()  # Ensure the file is closed</code></p></p>
<h4>3. <strong>Else Block</strong></h4>
<p><p>The <code>else</code> block can be used alongside <code>try</code> and <code>except</code> to define code that should run if no errors were raised in the <code>try</code> block.</p></p>
<h5>Syntax:</h5>
<p><p><code>python</p>
<p>try:</p>
<p># Code that may raise an error</p>
<p>except SomeException:</p>
<p># Code to handle the error</p>
<p>else:</p>
<p># Code to run if no error occurred</code></p></p>
<h5>Example:</h5>
<p><p><code>python</p>
<p>try:</p>
<p>number = int(input("Enter a number: "))</p>
<p>result = 10 / number</p>
<p>except ZeroDivisionError:</p>
<p>print("Error: Cannot divide by zero.")</p>
<p>except ValueError:</p>
<p>print("Error: Please enter a valid integer.")</p>
<p>else:</p>
<p>print(f"Result: {result}")</code></p></p>
<h3>Raising Exceptions</h3>
<p><p>Sometimes, you might want to raise your own exceptions using the <code>raise</code> statement. This is useful for enforcing conditions in your code.</p></p>
<h5>Example:</h5>
<p><p><code>python</p>
<p>def divide(a, b):</p>
<p>if b == 0:</p>
<p>raise ValueError("Cannot divide by zero.")</p>
<p>return a / b</code></p></p>
<p><p>In this example, the <code>divide</code> function raises a <code>ValueError</code> if the second argument is zero, allowing the caller to handle the error appropriately.</p></p>
<hr />
<h2>Real-World Applications of Error Handling</h2>
<p><p>Understanding error handling is not just an academic exercise; it has real-world implications across various domains:</p></p>
<h3>1. Web Development</h3>
<p><p>In web applications, error handling is crucial for providing a seamless user experience. For instance, when a user submits a form with invalid data, instead of crashing the application, it should display user-friendly error messages indicating what went wrong. </p></p>
<h3>2. Data Processing</h3>
<p><p>In data processing scripts, errors can arise from unexpected data formats, missing files, or corrupted data entries. Implementing robust error handling allows data analysts to catch these issues early and take corrective actions, ensuring data integrity.</p></p>
<h3>3. Financial Applications</h3>
<p><p>In financial applications, precise calculations are critical. Error handling ensures that any issues, such as division by zero or invalid transactions, are managed gracefully, preventing potential financial losses or discrepancies.</p></p>
<h3>4. Machine Learning</h3>
<p><p>When training machine learning models, data preprocessing is a vital step. Error handling can help manage issues such as missing values or incorrect data types, allowing data scientists to clean the data effectively before model training.</p></p>
<hr />
<h2>Best Practices for Error Handling</h2>
<p><p>To utilize error handling effectively, consider the following best practices:</p></p>
<p><ol></p>
<ul>
<li><strong>Be Specific</strong>: Catch specific exceptions rather than using a generic exception handler. This makes it easier to address particular issues and avoids masking other exceptions.</li>
</ul>
<p></ol></p>
<p><p><code>python</p>
<p>try:</p>
<p># Code that may raise an error</p>
<p>except ValueError:</p>
<p># Handle ValueError</code></p></p>
<p><ol></p>
<ul>
<li>
</ul>
<p><p><strong>Log Errors</strong>: Maintain logs of errors encountered in your application. This can aid significantly during debugging and provide insights into recurring issues.</p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Provide User Feedback</strong>: Always provide clear, informative messages to users when errors occur. Avoid technical jargon; use language that is easy to understand.</p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Fail Gracefully</strong>: Ensure your application can manage errors without crashing. Provide fallback mechanisms or alternative workflows if possible.</p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Test Thoroughly</strong>: Implement unit tests that cover various error scenarios. This helps ensure that your error handling is effective and that your code behaves correctly under unexpected conditions.</p></p>
<p></li></p>
<p></ol></p>
<hr />
<h2>Current Trends and Future Directions in Error Handling</h2>
<p><p>As software development evolves, so does the landscape of error handling. Some current trends and future directions include:</p></p>
<h3>1. Increased Use of Automated Testing</h3>
<p><p>With the rise of continuous integration and deployment (CI/CD), automated testing has become crucial. This includes testing for error handling scenarios, ensuring that applications can handle various error conditions effectively.</p></p>
<h3>2. Enhanced Logging and Monitoring</h3>
<p><p>Modern applications increasingly rely on advanced logging and monitoring solutions that track errors in real-time. This allows developers to respond to issues quickly and improve the overall reliability of applications.</p></p>
<h3>3. Machine Learning for Error Prediction</h3>
<p><p>Emerging technologies in machine learning are being used to predict errors before they occur. By analyzing historical data, algorithms can identify patterns that lead to errors, allowing developers to proactively address potential issues.</p></p>
<h3>4. User-Centric Design</h3>
<p><p>Future applications are likely to focus more on user experience, with error handling being an integral part of design. This includes providing intuitive error messages and alternative pathways for users to complete their tasks.</p></p>
<h3>5. Integration with APIs</h3>
<p><p>As more applications rely on third-party APIs, error handling strategies must also consider handling errors from external sources. This includes crafting robust fallback mechanisms and user-friendly notifications when API calls fail.</p></p>
<hr />
<h2>Conclusion</h2>
<p><p>Error handling is a vital aspect of programming that enhances the reliability, usability, and maintainability of your applications. As you've learned, it encompasses a range of strategies to anticipate, manage, and respond to errors effectively. By implementing robust error handling practices, you can create applications that not only function well but also provide a positive user experience.</p></p>
<p><p>As you continue your Python journey, take the time to explore and practice these concepts further. Error handling will become second nature as you encounter different scenarios in your coding projects. Remember, the goal is not just to avoid errors, but to handle them gracefully and learn from them.</p></p>
<h3>Call to Action</h3>
<p><p>Challenge yourself to integrate error handling into your next project. Experiment with different types of exceptions, logging mechanisms, and user feedback strategies. As you do, you'll deepen your understanding of error handling and its importance in creating robust applications.</p></p>
<hr />
        </article>
        
        <section id="interactive-quiz" class="mt-10 p-4 border rounded bg-white/70"></section>
        
        <footer class="mt-8 text-sm text-gray-600">
          <p>Bhai Jaan Academy &copy; 2024</p>
        </footer>
      </div>
      
      <!-- Ensure MathJax processes the content -->
      <script>
        // Wait for MathJax to load and process
        window.addEventListener('load', function() {
          if (window.MathJax) {
            MathJax.typesetPromise().then(() => {
              console.log('MathJax typesetting completed');
            }).catch((err) => {
              console.error('MathJax typesetting error:', err);
            });
          }
        });
      </script>
      
      <script>
        window.__QUIZ__ = {"questions": [{"question": "What is the primary purpose of error handling in programming?", "options": [{"id": "A", "text": "To eliminate all errors from the code", "explanation": "Incorrect. While eliminating errors is ideal, error handling focuses on managing errors when they occur."}, {"id": "B", "text": "To manage and respond to errors gracefully", "explanation": "Correct. Error handling is about anticipating errors and responding to them gracefully."}, {"id": "C", "text": "To improve code readability", "explanation": "Incorrect. Code readability pertains to how easily the code can be understood, not error management."}, {"id": "D", "text": "To make the code run faster", "explanation": "Incorrect. Error handling does not inherently make code run faster; it focuses on stability and user experience."}], "correct_answer": "B"}, {"question": "Which of the following will raise a `ZeroDivisionError`?", "options": [{"id": "A", "text": "`result = 10 / 'a'`", "explanation": "Incorrect. This will raise a `ValueError`, not a `ZeroDivisionError`."}, {"id": "B", "text": "`result = 10 / 0`", "explanation": "Correct. Dividing by zero will raise a `ZeroDivisionError`."}, {"id": "C", "text": "`result = int('10')`", "explanation": "Incorrect. This will successfully convert the string '10' to an integer without error."}, {"id": "D", "text": "`result = 10 + 5`", "explanation": "Incorrect. This operation will succeed without raising any exceptions."}], "correct_answer": "B"}, {"question": "What does the `finally` block do in error handling?", "options": [{"id": "A", "text": "It executes only if an exception occurs", "explanation": "Incorrect. The `finally` block executes regardless of whether an exception occurs or not."}, {"id": "B", "text": "It executes only if no exception occurs", "explanation": "Incorrect. The `else` block executes only if no exception occurs, not the `finally`."}, {"id": "C", "text": "It always executes, regardless of exceptions", "explanation": "Correct. The `finally` block is designed to execute cleanup code regardless of the outcome of the `try` block."}, {"id": "D", "text": "It prevents exceptions from occurring", "explanation": "Incorrect. The `finally` block does not prevent exceptions; it simply ensures certain code runs after the `try` and `except`."}], "correct_answer": "C"}, {"question": "Which of the following statements is true about raising exceptions in Python?", "options": [{"id": "A", "text": "You cannot raise built-in exceptions in your code.", "explanation": "Incorrect. You can raise built-in exceptions using the `raise` statement."}, {"id": "B", "text": "You can only raise exceptions that are defined in the standard library.", "explanation": "Incorrect. You can raise both built-in and custom exceptions."}, {"id": "C", "text": "You can raise custom exceptions using the `raise` statement.", "explanation": "Correct. Custom exceptions can be defined and raised using the `raise` statement."}, {"id": "D", "text": "Raising an exception will stop the execution of the code without any further processing.", "explanation": "Incorrect. You can handle raised exceptions using `try` and `except`, which allows for further processing."}], "correct_answer": "C"}, {"question": "What is the best practice for handling exceptions in your code?", "options": [{"id": "A", "text": "Catch only the generic `Exception` class to handle all errors.", "explanation": "Incorrect. Catching only generic exceptions can mask other issues and is not a good practice."}, {"id": "B", "text": "Test for all possible exceptions at once in a single block.", "explanation": "Incorrect. It's better to catch specific exceptions to handle them appropriately."}, {"id": "C", "text": "Log the error and provide specific feedback to the user.", "explanation": "Correct. Logging errors and providing specific feedback improves user experience and helps with debugging."}, {"id": "D", "text": "Ignore exceptions to let the program run.", "explanation": "Incorrect. Ignoring exceptions can lead to unexpected behavior and crashes."}], "correct_answer": "C"}], "why_it_matters": "Understanding error handling is crucial for building robust applications. It not only enhances user experience by preventing crashes but also aids developers in maintaining and debugging their code. As you continue to learn and apply these concepts, you'll be better equipped to tackle real-world programming challenges. Happy coding!"};
      </script>
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const quiz = window.__QUIZ__;
          if (!quiz || !quiz.questions) return;
          const container = document.getElementById('interactive-quiz');
          if (!container) return;

          const qEl = document.createElement('h2');
          qEl.className = 'text-xl font-bold mt-8 mb-4';
          qEl.textContent = 'Interactive Quiz: Test Your Understanding';
          container.appendChild(qEl);

          // Render each question
          quiz.questions.forEach((q, questionIndex) => {
            const questionContainer = document.createElement('div');
            questionContainer.className = 'mb-8 p-4 border rounded bg-gray-50';
            
            const questionTitle = document.createElement('h3');
            questionTitle.className = 'text-lg font-semibold mb-3';
            questionTitle.textContent = `Question ${questionIndex + 1}: ${q.question}`;
            questionContainer.appendChild(questionTitle);

            const form = document.createElement('form');
            form.className = 'space-y-3';
            q.options.forEach(opt => {
              const label = document.createElement('label');
              label.className = 'flex items-start gap-3 p-3 border rounded hover:bg-gray-50 cursor-pointer';
              const input = document.createElement('input');
              input.type = 'radio';
              input.name = `quizOption_${questionIndex}`;
              input.value = opt.id;
              input.className = 'mt-1';
              const span = document.createElement('span');
              span.innerHTML = `<strong>${opt.id})</strong> ${opt.text}`;
              label.appendChild(input);
              label.appendChild(span);
              form.appendChild(label);
            });

            const submit = document.createElement('button');
            submit.type = 'button';
            submit.className = 'mt-4 px-4 py-2 bg-gray-800 text-white rounded hover:bg-black';
            submit.textContent = 'Submit Answer';
            form.appendChild(submit);

            const feedback = document.createElement('div');
            feedback.className = 'mt-4';
            
            questionContainer.appendChild(form);
            questionContainer.appendChild(feedback);
            container.appendChild(questionContainer);

            function renderExplanation(selectedId, question) {
              feedback.innerHTML = '';
              const isCorrect = selectedId === question.correct_answer;
              const header = document.createElement('p');
              header.className = isCorrect ? 'text-green-700 font-bold' : 'text-red-700 font-bold';
              header.textContent = isCorrect ? 'Correct!' : 'Not quite.';
              feedback.appendChild(header);

              const list = document.createElement('ul');
              list.className = 'mt-2 list-disc pl-6';
              question.options.forEach(opt => {
                const li = document.createElement('li');
                const label = document.createElement('span');
                label.innerHTML = `<strong>Option ${opt.id}:</strong> ${opt.explanation}`;
                if (opt.id === question.correct_answer) {
                  li.className = 'text-green-800';
                } else if (opt.id === selectedId) {
                  li.className = 'text-red-800';
                }
                li.appendChild(label);
                list.appendChild(li);
              });
              feedback.appendChild(list);
            }

            submit.addEventListener('click', function() {
              const selected = questionContainer.querySelector(`input[name="quizOption_${questionIndex}"]:checked`);
              if (!selected) {
                feedback.innerHTML = '<p class="text-yellow-800">Please select an option first.</p>';
                return;
              }
              renderExplanation(selected.value, q);
            });
          });

          // Add "Why This Matters" section at the end
          if (quiz.why_it_matters) {
            const whySection = document.createElement('div');
            whySection.className = 'mt-6 p-4 bg-blue-50 border rounded';
            const whyTitle = document.createElement('h3');
            whyTitle.className = 'font-bold text-blue-800 mb-2';
            whyTitle.textContent = 'Why This Matters:';
            const whyText = document.createElement('p');
            whyText.className = 'text-blue-700';
            whyText.textContent = quiz.why_it_matters;
            whySection.appendChild(whyTitle);
            whySection.appendChild(whyText);
            container.appendChild(whySection);
          }
        });
      </script>
        
    </body>
    </html>
    