
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Report: Databases**: Introduction to SQL and using SQLite with Python.</title>
      <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
      <!-- MathJax for mathematical formula rendering -->
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script>
        window.MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true,
            processEnvironments: true,
            packages: ['base', 'ams', 'noerrors', 'noundefined']
          },
          options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            ignoreHtmlClass: 'tex2jax_ignore',
            processHtmlClass: 'tex2jax_process'
          },
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                console.log('MathJax processing completed');
              });
            }
          }
        };
      </script>
      <style>
        /* Background image from landing page */
        .report-bg {
          background-image: url('https://akashciel.github.io/bhai_jaan_academy/Bhai%20Jaan%20Academy.png');
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
          background-attachment: fixed;
          min-height: 100vh;
        }
        
        /* Foreground content with 60% opacity */
        .foreground-content {
          background-color: rgba(255, 255, 255, 0.6) !important;
          backdrop-filter: blur(10px);
          border-radius: 12px;
          border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .report-content h2 { 
          margin-top: 2rem; 
          margin-bottom: 1rem; 
          font-size: 1.5rem; 
          font-weight: bold; 
          color: #1f2937;
          border-bottom: 2px solid rgba(229, 231, 235, 0.8);
          padding-bottom: 0.5rem;
        }
        .report-content h3 { 
          margin-top: 1.5rem; 
          margin-bottom: 0.75rem; 
          font-size: 1.25rem; 
          font-weight: bold; 
          color: #374151;
        }
        .report-content p { 
          margin-bottom: 1rem; 
          line-height: 1.6; 
          color: #1f2937;
          font-weight: 500;
        }
        .report-content ul { 
          margin-bottom: 1rem; 
          padding-left: 1.5rem; 
        }
        .report-content li { 
          margin-bottom: 0.5rem; 
          color: #1f2937;
          font-weight: 500;
        }
        .report-content hr { 
          margin: 2rem 0; 
          border: none; 
          border-top: 1px solid rgba(229, 231, 235, 0.8); 
        }
        .report-content strong { 
          color: #111827; 
          font-weight: 700; 
        }
        .report-content .link-external { 
          background: linear-gradient(135deg, #dc2626, #b91c1c);
          color: white;
          border: 2px solid #dc2626;
          border-radius: 8px;
          padding: 0.75rem 1rem;
          text-decoration: none;
          font-weight: 700;
          transition: all 0.3s ease;
          display: inline-block;
          margin: 0.75rem 0.25rem;
          box-shadow: 0 4px 6px rgba(220, 38, 38, 0.3);
          position: relative;
          overflow: hidden;
        }
        .report-content .link-external:hover { 
          transform: translateY(-3px);
          box-shadow: 0 6px 12px rgba(220, 38, 38, 0.4);
          background: linear-gradient(135deg, #b91c1c, #991b1b);
        }
        .report-content .link-external:before {
          content: "ðŸ”— ";
          margin-right: 0.5rem;
          font-size: 1.2em;
        }
        
        /* Mobile responsiveness */
        @media (max-width: 640px) {
          .report-bg {
            background-image: url('https://akashciel.github.io/bhai_jaan_academy/Bhai%20Jaan%20Academy%20Mobile.png');
            background-attachment: scroll;
          }
          
          .foreground-content {
            margin: 1rem;
            padding: 1rem;
            border-radius: 8px;
          }
          
          .report-content h2 {
            font-size: 1.25rem;
            margin-top: 1.5rem;
          }
          .report-content h3 {
            font-size: 1.1rem;
            margin-top: 1rem;
          }
          .report-content p {
            font-size: 0.95rem;
            line-height: 1.5;
          }
          .report-content ul {
            padding-left: 1rem;
          }
          .report-content li {
            font-size: 0.95rem;
          }
          .report-content .link-external {
            font-size: 0.9rem;
            word-break: break-word;
            padding: 0.4rem 0.6rem;
          }
          
          .mobile-header {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
          }
          
          .mobile-subtitle {
            font-size: 0.9rem;
            margin-bottom: 1rem;
          }
        }
        
        /* Desktop styles */
        @media (min-width: 641px) {
          .foreground-content {
            margin: 2rem auto;
            padding: 2rem;
            max-width: 800px;
          }
        }
      </style>
    </head>
    <body class="report-bg text-gray-900 p-4 sm:p-6">
      <div class="foreground-content">
        <h1 class="text-2xl font-bold mb-4 mobile-header">Databases**: Introduction to SQL and using SQLite with Python.</h1>
        <p class="mb-6 text-gray-700 mobile-subtitle">Prepared for: manishkumarfd7882@gmail.com</p>
        <article class="report-content prose prose-lg tex2jax_process">
          <h1>Databases: Introduction to SQL and Using SQLite with Python</h1>
<h2>Introduction:</h2>
<p><p>In your journey through <strong>Python Programming for Beginners</strong>, you've acquired a solid foundation in various programming concepts, including data structures, functions, and file handling. As you continue to build on this knowledge, we now turn our attention to a crucial aspect of software development: databases. </p></p>
<p><p>Databases are essential for managing data effectively, allowing applications to store, retrieve, and manipulate information efficiently. In this report, we will explore <strong>SQL (Structured Query Language)</strong> and how to use <strong>SQLite</strong>, a lightweight database, with Python. This knowledge will empower you to create applications that can handle data dynamically, making your projects more robust and functional.</p></p>
<p><p>We will begin by defining key concepts related to databases, followed by a detailed discussion of SQL and SQLite. We will also explore real-world applications and the future directions of database technologies. Let's embark on this exciting journey into the world of databases!</p></p>
<hr />
<h2>Key Concepts and Definitions:</h2>
<h3>What is a Database?</h3>
<p><p>A <strong>database</strong> is an organized collection of structured information or data, typically stored electronically in a computer system. Databases are managed by a <strong>Database Management System (DBMS)</strong>, which allows users to create, read, update, and delete data efficiently.</p></p>
<p><p><strong>Key Characteristics of Databases:</strong></p>
<ul>
<li><strong>Structured Data</strong>: Data is organized in tables, rows, and columns.</li>
<li><strong>Data Integrity</strong>: Ensures accuracy and consistency of data.</li>
<li><strong>Concurrent Access</strong>: Multiple users can access and manipulate data simultaneously.</li>
<li><strong>Security</strong>: Protects data from unauthorized access.</p></li>
</ul>
<h3>What is SQL?</h3>
<p><p><strong>SQL (Structured Query Language)</strong> is the standard language used to communicate with relational databases. It provides a way to perform various operations on data, such as querying, updating, and deleting records.</p></p>
<p><p><strong>Key Features of SQL:</strong></p>
<ul>
<li><strong>Data Querying</strong>: Retrieve specific data from one or more tables.</li>
<li><strong>Data Manipulation</strong>: Insert, update, and delete records.</li>
<li><strong>Data Definition</strong>: Define and modify the structure of database objects (e.g., tables).</li>
<li><strong>Data Control</strong>: Manage access permissions and security settings.</p></li>
</ul>
<h3>What is SQLite?</h3>
<p><p><strong>SQLite</strong> is a self-contained, serverless, and zero-configuration SQL database engine. It is widely used for embedded database solutions due to its simplicity and efficiency. Unlike other database management systems that require a separate server process, SQLite databases are stored as a single file on disk.</p></p>
<p><p><strong>Key Features of SQLite:</strong></p>
<ul>
<li><strong>Lightweight</strong>: Minimal setup and overhead, making it ideal for small applications and development.</li>
<li><strong>Cross-Platform</strong>: Works on various operating systems, including Windows, macOS, and Linux.</li>
<li><strong>ACID Compliance</strong>: Ensures reliable transactions and data integrity.</li>
<li><strong>Easy to Use</strong>: Integrates seamlessly with Python and other programming languages.</p></li>
</ul>
<h3>Why Use Databases?</h3>
<p><p>Databases are essential for applications that require persistent data storage. They allow for efficient data management, making it easy to handle large amounts of information. Common use cases include:</p></p>
<ul>
<ul>
<li><strong>Web Applications</strong>: Storing user information, content, and application data.</li>
<li><strong>Mobile Apps</strong>: Managing user profiles, settings, and offline data.</li>
<li><strong>Data Analysis</strong>: Storing and analyzing large datasets for insights.</li>
</ul>
</ul>
<hr />
<h2>Real-World Applications:</h2>
<p><p>To illustrate the importance of databases, let's consider a few real-world applications:</p></p>
<h3>1. E-commerce Platforms</h3>
<p><p>In e-commerce applications like Amazon, databases store product information, user accounts, purchase history, and inventory. SQL queries allow developers to retrieve product details, manage stock levels, and analyze customer behavior.</p></p>
<h3>2. Social Media</h3>
<p><p>Social media platforms such as Facebook and Twitter rely on databases to manage user profiles, posts, comments, and friendships. Efficient querying and data manipulation are crucial for delivering a seamless user experience.</p></p>
<h3>3. Banking Systems</h3>
<p><p>Banks use databases to manage customer accounts, transactions, and loans. SQL ensures data integrity and security, allowing banks to operate efficiently while protecting sensitive information.</p></p>
<h3>4. Data Analytics</h3>
<p><p>In data analytics, databases are used to store large datasets for analysis. SQL queries enable analysts to extract insights, create reports, and visualize data trends.</p></p>
<hr />
<h2>SQL: The Language of Databases</h2>
<p><p>Now that we've established the importance of databases, let's delve into SQL. We'll cover the core concepts and commands that you'll need to interact with databases effectively.</p></p>
<h3>Basic SQL Commands</h3>
<p><ol></p>
<ul>
<li>
</ul>
<p><p><strong>SELECT</strong>: Retrieve data from a database.</p>
<p><code>sql</p>
<p>SELECT column1, column2 FROM table_name;</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>INSERT</strong>: Add new records to a table.</p>
<p><code>sql</p>
<p>INSERT INTO table_name (column1, column2) VALUES (value1, value2);</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>UPDATE</strong>: Modify existing records.</p>
<p><code>sql</p>
<p>UPDATE table_name SET column1 = value1 WHERE condition;</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>DELETE</strong>: Remove records from a table.</p>
<p><code>sql</p>
<p>DELETE FROM table_name WHERE condition;</code></p></p>
<p></li></p>
<p></ol></p>
<h3>Creating a Database and a Table</h3>
<p><p>To illustrate how SQL works, let's create a simple SQLite database and a table to store user information.</p></p>
<p><ol></p>
<ul>
<li><strong>Create a Database</strong>: In SQLite, creating a database is as simple as connecting to a database file.
</ul>
<p>```python</p>
<p>import sqlite3</li></p>
<p></ol></p>
<p><p>conn = sqlite3.connect('example.db')  # Creates a new database file</p>
<p>```</p></p>
<p><ol></p>
<ul>
<li><strong>Create a Table</strong>: Use SQL to create a table within the database.
</ul>
<p><code>python</p>
<p>conn.execute('''</p>
<p>CREATE TABLE users (</p>
<p>id INTEGER PRIMARY KEY AUTOINCREMENT,</p>
<p>name TEXT NOT NULL,</p>
<p>email TEXT NOT NULL UNIQUE</p>
<p>);</p>
<p>''')</code></li></p>
<p></ol></p>
<h3>Inserting Data</h3>
<p><p>To insert records into the <code>users</code> table, you can use the <code>INSERT</code> command.</p>
<p><code>python</p>
<p>conn.execute("INSERT INTO users (name, email) VALUES ('Alice', 'alice@example.com')")</p>
<p>conn.commit()  # Save the changes</code></p></p>
<h3>Querying Data</h3>
<p><p>You can retrieve data using the <code>SELECT</code> command.</p>
<p><code>python</p>
<p>cursor = conn.execute("SELECT * FROM users")</p>
<p>for row in cursor:</p>
<p>print(row)</code></p></p>
<h3>Updating Data</h3>
<p><p>To update a user's email address, use the <code>UPDATE</code> command.</p>
<p><code>python</p>
<p>conn.execute("UPDATE users SET email = 'alice.new@example.com' WHERE name = 'Alice'")</p>
<p>conn.commit()</code></p></p>
<h3>Deleting Data</h3>
<p><p>Finally, to delete a user, you can use the <code>DELETE</code> command.</p>
<p><code>python</p>
<p>conn.execute("DELETE FROM users WHERE name = 'Alice'")</p>
<p>conn.commit()</code></p></p>
<hr />
<h2>Using SQLite with Python</h2>
<p><p>Now that we've covered the basic SQL commands, let's explore how to use SQLite with Python in more detail. Python's <code>sqlite3</code> module provides a straightforward interface for working with SQLite databases.</p></p>
<h3>Setting Up SQLite in Python</h3>
<p><ol></p>
<ul>
<li>
</ul>
<p><p><strong>Import the <code>sqlite3</code> Module</strong>: This module allows you to connect to SQLite databases and execute SQL commands.</p>
<p><code>python</p>
<p>import sqlite3</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Connecting to a Database</strong>: Create or connect to a database file.</p>
<p><code>python</p>
<p>conn = sqlite3.connect('example.db')</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Creating a Cursor</strong>: A cursor is used to execute SQL commands.</p>
<p><code>python</p>
<p>cursor = conn.cursor()</code></p></p>
<p></li></p>
<p></ol></p>
<h3>Executing SQL Commands</h3>
<p><p>You can execute SQL commands using the <code>cursor</code> object. Hereâ€™s a step-by-step guide:</p></p>
<p><ol></p>
<ul>
<li>
</ul>
<p><p><strong>Creating a Table</strong>:</p>
<p><code>python</p>
<p>cursor.execute('''</p>
<p>CREATE TABLE IF NOT EXISTS products (</p>
<p>id INTEGER PRIMARY KEY AUTOINCREMENT,</p>
<p>name TEXT NOT NULL,</p>
<p>price REAL NOT NULL</p>
<p>);</p>
<p>''')</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Inserting Data</strong>:</p>
<p><code>python</p>
<p>cursor.execute("INSERT INTO products (name, price) VALUES (?, ?)", ('Laptop', 999.99))</p>
<p>cursor.execute("INSERT INTO products (name, price) VALUES (?, ?)", ('Smartphone', 499.99))</p>
<p>conn.commit()</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Querying Data</strong>:</p>
<p><code>python</p>
<p>cursor.execute("SELECT * FROM products")</p>
<p>for row in cursor.fetchall():</p>
<p>print(row)</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Updating Data</strong>:</p>
<p><code>python</p>
<p>cursor.execute("UPDATE products SET price = ? WHERE name = ?", (899.99, 'Laptop'))</p>
<p>conn.commit()</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Deleting Data</strong>:</p>
<p><code>python</p>
<p>cursor.execute("DELETE FROM products WHERE name = ?", ('Smartphone',))</p>
<p>conn.commit()</code></p></p>
<p></li></p>
<ul>
<li>
</ul>
<p><p><strong>Closing the Connection</strong>: Always close the connection when done.</p>
<p><code>python</p>
<p>conn.close()</code></p></p>
<p></li></p>
<p></ol></p>
<h3>Error Handling</h3>
<p><p>It's essential to handle potential errors when working with databases. You can use try-except blocks to manage exceptions.</p></p>
<p><p><code>python</p>
<p>try:</p>
<p># Database operations</p>
<p>except sqlite3.Error as e:</p>
<p>print(f"An error occurred: {e}")</p>
<p>finally:</p>
<p>conn.close()</code></p></p>
<hr />
<h2>Common Misconceptions</h2>
<h3>Misconception 1: SQL is a Programming Language</h3>
<p><p>While SQL has programming-like constructs, it is primarily a query language for managing and manipulating databases rather than a full-fledged programming language like Python.</p></p>
<h3>Misconception 2: All Databases Use SQL</h3>
<p><p>Not all databases use SQL. For example, NoSQL databases like MongoDB use different query languages and data models.</p></p>
<h3>Misconception 3: SQLite is Not Suitable for Production</h3>
<p><p>SQLite is often considered a lightweight database for development and small-scale applications, but it is also used in production systems where simplicity and reliability are paramount.</p></p>
<hr />
<h2>Advanced Applications and Current Research Frontiers</h2>
<p><p>As technology evolves, the landscape of databases and data management continues to shift. Here are some advanced applications and research frontiers:</p></p>
<h3>Emerging Database Technologies</h3>
<ul>
<ul>
<li><strong>NoSQL Databases</strong>: These databases, such as MongoDB and Cassandra, offer flexible data models and are designed for handling unstructured data and high-velocity transactions.</li>
<li><strong>Graph Databases</strong>: Used for applications that require complex relationships, such as social networks and recommendation systems. Examples include Neo4j and Amazon Neptune.</li>
</ul>
</ul>
<h3>Cloud Databases</h3>
<p><p>Cloud-based database services, like Amazon RDS and Google Cloud SQL, provide scalable and managed database solutions, enabling organizations to focus on application development rather than database management.</p></p>
<h3>AI and Machine Learning Integration</h3>
<p><p>Databases are increasingly integrated with AI and machine learning technologies for predictive analytics, anomaly detection, and automated decision-making.</p></p>
<h3>Data Privacy and Security</h3>
<p><p>As data breaches become more prevalent, research is focused on enhancing database security measures, such as encryption and access control.</p></p>
<hr />
<h2>Conclusion</h2>
<p><p>In this comprehensive exploration of databases, SQL, and SQLite with Python, you've gained valuable insights into the concepts and practical applications of data management. By understanding how to create, manipulate, and query databases, you are now equipped to build more dynamic and robust applications.</p></p>
<p><p>As you continue your programming journey, consider exploring more advanced topics such as NoSQL databases, data analytics, and cloud database solutions to further enhance your skills.</p></p>
<h3>Call to Action</h3>
<p><p>Take the next step in your learning by experimenting with SQLite, creating your own databases, and applying SQL queries to real-world data. Challenge yourself to build a small application that utilizes a database, solidifying your understanding of these vital concepts.</p></p>
<hr />
        </article>
        
        <section id="interactive-quiz" class="mt-10 p-4 border rounded bg-white/70"></section>
        
        <footer class="mt-8 text-sm text-gray-600">
          <p>Bhai Jaan Academy &copy; 2024</p>
        </footer>
      </div>
      
      <!-- Ensure MathJax processes the content -->
      <script>
        // Wait for MathJax to load and process
        window.addEventListener('load', function() {
          if (window.MathJax) {
            MathJax.typesetPromise().then(() => {
              console.log('MathJax typesetting completed');
            }).catch((err) => {
              console.error('MathJax typesetting error:', err);
            });
          }
        });
      </script>
      
      <script>
        window.__QUIZ__ = {"questions": [{"question": "What is the primary function of SQL?", "options": [{"id": "A", "text": "To create websites", "explanation": "Incorrect. SQL is not used for creating websites directly; it is used for database management."}, {"id": "B", "text": "To manage and manipulate databases", "explanation": "Correct. SQL is specifically designed to manage and manipulate data in databases."}, {"id": "C", "text": "To write Python scripts", "explanation": "Incorrect. While Python can interact with databases, SQL is the language for database management."}, {"id": "D", "text": "To design user interfaces", "explanation": "Incorrect. SQL does not involve designing user interfaces."}], "correct_answer": "B"}, {"question": "Which of the following is a feature of SQLite?", "options": [{"id": "A", "text": "Requires a separate server process", "explanation": "Incorrect. SQLite does not require a separate server; it is embedded within applications."}, {"id": "B", "text": "Stores data in multiple files", "explanation": "Incorrect. SQLite stores data in a single file, simplifying management."}, {"id": "C", "text": "Self-contained and serverless", "explanation": "Correct. SQLite is known for being self-contained and does not need a separate server to operate."}, {"id": "D", "text": "Only supports structured data", "explanation": "Incorrect. While SQLite is primarily used for structured data, it can handle various data types."}], "correct_answer": "C"}, {"question": "How do you retrieve data from a SQLite database?", "options": [{"id": "A", "text": "UPDATE", "explanation": "Incorrect. UPDATE is used to modify existing records, not retrieve them."}, {"id": "B", "text": "SELECT", "explanation": "Correct. SELECT is the SQL command used to retrieve data from a database."}, {"id": "C", "text": "INSERT", "explanation": "Incorrect. INSERT is used to add new records to a database."}, {"id": "D", "text": "DELETE", "explanation": "Incorrect. DELETE is used to remove records from a database."}], "correct_answer": "B"}, {"question": "What is a cursor in the context of SQLite and Python?", "options": [{"id": "A", "text": "A graphical interface element", "explanation": "Incorrect. A cursor is not a graphical element; it refers to a database operation object."}, {"id": "B", "text": "An object to execute SQL commands", "explanation": "Correct. A cursor is an object that allows you to execute SQL commands and fetch data."}, {"id": "C", "text": "A data structure for storing data", "explanation": "Incorrect. A cursor is not a data structure; it is an interface for executing SQL."}, {"id": "D", "text": "A method for connecting to the database", "explanation": "Incorrect. Connecting to the database involves the connection object, not the cursor."}], "correct_answer": "B"}, {"question": "What does the SQL command `DELETE FROM table_name WHERE condition` do?", "options": [{"id": "A", "text": "Removes the entire table from the database", "explanation": "Incorrect. This command does not remove the entire table; it only deletes records."}, {"id": "B", "text": "Deletes specific records that meet the condition", "explanation": "Correct. This command deletes only the records that match the specified condition."}, {"id": "C", "text": "Updates records in the table", "explanation": "Incorrect. The command does not update records; that is done with the UPDATE command."}, {"id": "D", "text": "Retrieves records from the table", "explanation": "Incorrect. To retrieve records, you would use the SELECT command."}], "correct_answer": "B"}], "why_it_matters": "Understanding databases, SQL, and their integration with Python is crucial for developing data-driven applications. As technology continues to evolve, your ability to manage and analyze data will be a valuable asset in your programming toolkit."};
      </script>
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const quiz = window.__QUIZ__;
          if (!quiz || !quiz.questions) return;
          const container = document.getElementById('interactive-quiz');
          if (!container) return;

          const qEl = document.createElement('h2');
          qEl.className = 'text-xl font-bold mt-8 mb-4';
          qEl.textContent = 'Interactive Quiz: Test Your Understanding';
          container.appendChild(qEl);

          // Render each question
          quiz.questions.forEach((q, questionIndex) => {
            const questionContainer = document.createElement('div');
            questionContainer.className = 'mb-8 p-4 border rounded bg-gray-50';
            
            const questionTitle = document.createElement('h3');
            questionTitle.className = 'text-lg font-semibold mb-3';
            questionTitle.textContent = `Question ${questionIndex + 1}: ${q.question}`;
            questionContainer.appendChild(questionTitle);

            const form = document.createElement('form');
            form.className = 'space-y-3';
            q.options.forEach(opt => {
              const label = document.createElement('label');
              label.className = 'flex items-start gap-3 p-3 border rounded hover:bg-gray-50 cursor-pointer';
              const input = document.createElement('input');
              input.type = 'radio';
              input.name = `quizOption_${questionIndex}`;
              input.value = opt.id;
              input.className = 'mt-1';
              const span = document.createElement('span');
              span.innerHTML = `<strong>${opt.id})</strong> ${opt.text}`;
              label.appendChild(input);
              label.appendChild(span);
              form.appendChild(label);
            });

            const submit = document.createElement('button');
            submit.type = 'button';
            submit.className = 'mt-4 px-4 py-2 bg-gray-800 text-white rounded hover:bg-black';
            submit.textContent = 'Submit Answer';
            form.appendChild(submit);

            const feedback = document.createElement('div');
            feedback.className = 'mt-4';
            
            questionContainer.appendChild(form);
            questionContainer.appendChild(feedback);
            container.appendChild(questionContainer);

            function renderExplanation(selectedId, question) {
              feedback.innerHTML = '';
              const isCorrect = selectedId === question.correct_answer;
              const header = document.createElement('p');
              header.className = isCorrect ? 'text-green-700 font-bold' : 'text-red-700 font-bold';
              header.textContent = isCorrect ? 'Correct!' : 'Not quite.';
              feedback.appendChild(header);

              const list = document.createElement('ul');
              list.className = 'mt-2 list-disc pl-6';
              question.options.forEach(opt => {
                const li = document.createElement('li');
                const label = document.createElement('span');
                label.innerHTML = `<strong>Option ${opt.id}:</strong> ${opt.explanation}`;
                if (opt.id === question.correct_answer) {
                  li.className = 'text-green-800';
                } else if (opt.id === selectedId) {
                  li.className = 'text-red-800';
                }
                li.appendChild(label);
                list.appendChild(li);
              });
              feedback.appendChild(list);
            }

            submit.addEventListener('click', function() {
              const selected = questionContainer.querySelector(`input[name="quizOption_${questionIndex}"]:checked`);
              if (!selected) {
                feedback.innerHTML = '<p class="text-yellow-800">Please select an option first.</p>';
                return;
              }
              renderExplanation(selected.value, q);
            });
          });

          // Add "Why This Matters" section at the end
          if (quiz.why_it_matters) {
            const whySection = document.createElement('div');
            whySection.className = 'mt-6 p-4 bg-blue-50 border rounded';
            const whyTitle = document.createElement('h3');
            whyTitle.className = 'font-bold text-blue-800 mb-2';
            whyTitle.textContent = 'Why This Matters:';
            const whyText = document.createElement('p');
            whyText.className = 'text-blue-700';
            whyText.textContent = quiz.why_it_matters;
            whySection.appendChild(whyTitle);
            whySection.appendChild(whyText);
            container.appendChild(whySection);
          }
        });
      </script>
        
    </body>
    </html>
    